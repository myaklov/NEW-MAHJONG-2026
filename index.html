<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–ù–æ–≤—ã–π –º–∞–¥–∂–æ–Ω–≥ 2026</title>
    <link rel="stylesheet" href="style.css">
    <!-- 1. –£–±—Ä–∞–Ω —Å–∫—Ä–∏–ø—Ç –Ø–Ω–¥–µ–∫—Å –ò–≥—Ä SDK -->
    <!-- 2. –î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç VK Bridge -->
    <script src="https://unpkg.com/@vkontakte/vk-bridge/dist/vk-bridge.min.js"></script>
</head>
<body>

<div id="stage">
    <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="menu-screen" class="overlay">
        <h1 id="main-title" style="font-size: 110px; color: var(--gold); margin:0; line-height: 1.2;">–ù–û–í–´–ô –ú–ê–î–ñ–û–ù–ì 2026</h1>
        <p id="save-info" style="font-size: 50px; margin: 50px 0;">–£–†–û–í–ï–ù–¨: 1</p>
        <button id="play-btn" class="big-btn" onclick="startLevel()">–ò–ì–†–ê–¢–¨</button>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø–∞—É–∑—ã -->
    <div id="pause-screen" class="overlay modal-bg" style="display:none">
        <h1 id="pause-title" style="font-size: 130px; color: var(--gold);">–ü–ê–£–ó–ê</h1>
        <button id="resume-btn" class="big-btn" onclick="resumeGame()">–ü–†–û–î–û–õ–ñ–ò–¢–¨</button>
    </div>

    <!-- –û–∫–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π -->
    <div id="achievements-screen" class="overlay modal-bg" style="display:none">
        <h1 id="ach-title" style="font-size: 80px; color: var(--gold); margin-bottom: 20px;">–î–û–°–¢–ò–ñ–ï–ù–ò–Ø</h1>
        <p id="ach-rank" style="font-size: 45px; margin-bottom: 50px;"></p>
        <div class="gift-grid" id="gift-grid"></div>
        <button id="ach-close-btn" class="big-btn" style="margin-top:50px" onclick="closeAch()">–ó–ê–ö–†–´–¢–¨</button>
    </div>

    <!-- –û–∫–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–Ω—É—Å–∞ (Reward) -->
    <div id="reward-modal" class="overlay modal-bg" style="display:none">
        <h1 id="reward-title" style="font-size: 70px; color: var(--gold); margin-bottom: 50px;">–ù–£–ñ–ù–´ –ü–û–î–°–ö–ê–ó–ö–ò?</h1>
        <div style="display: flex; flex-direction: column; gap: 40px;">
            <button id="reward-ad-btn" class="big-btn" onclick="watchRewardAd()">
                <span id="reward-btn-text">–ü–û–õ–£–ß–ò–¢–¨ +3</span> <span style="font-size: 50px;">üì∫</span>
            </button>
            <button id="reward-cancel-btn" class="big-btn" style="background: #7f8c8d; border-color: #bdc3c7;" onclick="closeRewardModal()">–û–¢–ú–ï–ù–ê</button>
        </div>
    </div>

    <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ –ø–µ—Ä–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è -->
    <div id="tutorial-hint" class="tutorial-text" style="display:none"></div>

    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <div id="header">
        <div id="rank-txt">–£–ß–ï–ù–ò–ö</div>
        <div id="top-row">
            <div id="ui-lvl">–£–†. 1</div>
            <div id="ui-score">0</div>
        </div>
    </div>

    <div id="play-area"></div>

    <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <div id="tray-ui">
        <div class="slot"></div><div class="slot"></div><div class="slot"></div><div class="slot"></div>
        <div class="slot"></div><div class="slot"></div><div class="slot"></div><div class="slot"></div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div id="controls">
        <div class="btn" onclick="shuffleBoard()">üîÑ<div class="badge" id="b-shuf">3</div></div>
        <div class="btn" onclick="getHint()">üí°<div class="badge" id="b-hint">3</div></div>
        <div class="btn" onclick="openAch()">üèÜ</div>
        <div class="btn" onclick="toggleAudio()"><span id="vol-ico">üîä</span></div>
    </div>

    <!-- –û–∫–Ω–∞ –ø–æ–±–µ–¥—ã –∏ –ø—Ä–æ–∏–≥—Ä—ã—à–∞ -->
    <div id="win-screen" class="overlay modal-bg" style="display:none">
        <h1 id="win-title-txt" style="font-size: 80px; color: var(--gold);">–ü–û–ë–ï–î–ê!</h1>
        <div id="gift-icon">üéÅ</div>
        <div id="gift-name">–ù–∞–≥—Ä–∞–¥–∞</div>
        <button id="next-lvl-btn" class="big-btn" onclick="handleLevelTransition('next')">–î–ê–õ–ï–ï</button>
    </div>

    <div id="lose-screen" class="overlay modal-bg" style="display:none">
        <h1 id="lose-title" style="font-size: 100px;">–¢–£–ü–ò–ö</h1>
        <button id="retry-btn" class="big-btn" onclick="handleLevelTransition('retry')">–ó–ê–ù–û–í–û</button>
    </div>
</div>

<script src="game.js"></script>
</body>
</html>
